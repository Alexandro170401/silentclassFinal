{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useLocation,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Evaluacion(){const{evaluacionId}=useParams();const location=useLocation();const navigate=useNavigate();const[evaluacion,setEvaluacion]=useState(null);const[recomendacion,setRecomendacion]=useState(null);const queryParams=new URLSearchParams(location.search);const nombreCurso=queryParams.get('nombreCurso');const especialidad=queryParams.get('especialidad');useEffect(()=>{fetchEvaluacion();},[evaluacionId]);useEffect(()=>{if(evaluacion&&evaluacion[\"nota_\".concat(especialidad.toLowerCase())]<20){fetchRecomendacion();}},[evaluacion,especialidad]);const fetchEvaluacion=async()=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/api/evaluacion.php?evaluacionId=\").concat(evaluacionId));if(!response.ok){throw new Error('Error al obtener la evaluación');}const data=await response.json();setEvaluacion(data);}catch(error){console.error('Error al cargar la evaluación:',error);}};const fetchRecomendacion=async()=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/api/recomendacion.php?especialidad=\").concat(especialidad,\"&cursoActual=\").concat(nombreCurso));if(!response.ok){throw new Error('Error al obtener la recomendación');}const data=await response.json();setRecomendacion(data);}catch(error){console.error('Error al obtener la recomendación:',error);}};const handleIrAlCurso=()=>{if(recomendacion){navigate(\"/curso/\".concat(recomendacion.id));}};const handleVolverARealizarExamen=()=>{navigate(-1);};if(!evaluacion){return/*#__PURE__*/_jsx(\"p\",{children:\"Cargando...\"});}// Mostrar la nota de la especialidad correcta\nconst mostrarNotaEspecialidad=()=>{switch(especialidad){case'Matematicas':return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nota Matem\\xE1ticas:\"}),\" \",evaluacion.nota_matematicas]});case'Lenguaje':return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nota Lenguaje:\"}),\" \",evaluacion.nota_lenguaje]});case'Historia':return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nota Historia:\"}),\" \",evaluacion.nota_historia]});default:return/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nota:\"}),\" No disponible\"]});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"resultado-evaluacion\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Resultado de la Evaluaci\\xF3n\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Fecha de evaluaci\\xF3n:\"}),\" \",new Date(evaluacion.fecha).toLocaleString()]}),mostrarNotaEspecialidad(),evaluacion[\"nota_\".concat(especialidad.toLowerCase())]<20?recomendacion?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Recomendaci\\xF3n de curso:\"}),\" \",recomendacion.nombre]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleIrAlCurso,children:\"Ir al curso recomendado\"})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Cargando recomendaci\\xF3n de curso...\"}):/*#__PURE__*/_jsx(\"p\",{children:\"No hay recomendaci\\xF3n de curso.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleVolverARealizarExamen,style:{marginTop:'20px'},children:\"Volver a realizar el examen\"})]});}export default Evaluacion;","map":{"version":3,"names":["React","useEffect","useState","useParams","useLocation","useNavigate","jsx","_jsx","jsxs","_jsxs","Evaluacion","evaluacionId","location","navigate","evaluacion","setEvaluacion","recomendacion","setRecomendacion","queryParams","URLSearchParams","search","nombreCurso","get","especialidad","fetchEvaluacion","concat","toLowerCase","fetchRecomendacion","response","fetch","process","env","REACT_APP_API_URL","ok","Error","data","json","error","console","handleIrAlCurso","id","handleVolverARealizarExamen","children","mostrarNotaEspecialidad","nota_matematicas","nota_lenguaje","nota_historia","className","Date","fecha","toLocaleString","nombre","onClick","style","marginTop"],"sources":["C:/Users/HP/Desktop/Proyecto_Alexandro/Version hibrida (local-web)/silent-class/src/components/Evaluacion.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useLocation, useNavigate } from 'react-router-dom';\r\n\r\nfunction Evaluacion() {\r\n  const { evaluacionId } = useParams();\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const [evaluacion, setEvaluacion] = useState(null);\r\n  const [recomendacion, setRecomendacion] = useState(null);\r\n  const queryParams = new URLSearchParams(location.search);\r\n  const nombreCurso = queryParams.get('nombreCurso');\r\n  const especialidad = queryParams.get('especialidad');\r\n\r\n  useEffect(() => {\r\n    fetchEvaluacion();\r\n  }, [evaluacionId]);\r\n\r\n  useEffect(() => {\r\n    if (evaluacion && evaluacion[`nota_${especialidad.toLowerCase()}`] < 20) {\r\n      fetchRecomendacion();\r\n    }\r\n  }, [evaluacion, especialidad]);\r\n\r\n  const fetchEvaluacion = async () => {\r\n    try {\r\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/evaluacion.php?evaluacionId=${evaluacionId}`);\r\n      if (!response.ok) {\r\n        throw new Error('Error al obtener la evaluación');\r\n      }\r\n      const data = await response.json();\r\n      setEvaluacion(data);\r\n    } catch (error) {\r\n      console.error('Error al cargar la evaluación:', error);\r\n    }\r\n  };\r\n\r\n  const fetchRecomendacion = async () => {\r\n    try {\r\n      const response = await fetch(`${process.env.REACT_APP_API_URL}/api/recomendacion.php?especialidad=${especialidad}&cursoActual=${nombreCurso}`);\r\n      if (!response.ok) {\r\n        throw new Error('Error al obtener la recomendación');\r\n      }\r\n      const data = await response.json();\r\n      setRecomendacion(data);\r\n    } catch (error) {\r\n      console.error('Error al obtener la recomendación:', error);\r\n    }\r\n  };\r\n\r\n  const handleIrAlCurso = () => {\r\n    if (recomendacion) {\r\n      navigate(`/curso/${recomendacion.id}`);\r\n    }\r\n  };\r\n\r\n  const handleVolverARealizarExamen = () => {\r\n    navigate(-1);\r\n  };\r\n\r\n  if (!evaluacion) {\r\n    return <p>Cargando...</p>;\r\n  }\r\n\r\n  // Mostrar la nota de la especialidad correcta\r\n  const mostrarNotaEspecialidad = () => {\r\n    switch (especialidad) {\r\n      case 'Matematicas':\r\n        return <p><strong>Nota Matemáticas:</strong> {evaluacion.nota_matematicas}</p>;\r\n      case 'Lenguaje':\r\n        return <p><strong>Nota Lenguaje:</strong> {evaluacion.nota_lenguaje}</p>;\r\n      case 'Historia':\r\n        return <p><strong>Nota Historia:</strong> {evaluacion.nota_historia}</p>;\r\n      default:\r\n        return <p><strong>Nota:</strong> No disponible</p>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"resultado-evaluacion\">\r\n      <h2>Resultado de la Evaluación</h2>\r\n      <p><strong>Fecha de evaluación:</strong> {new Date(evaluacion.fecha).toLocaleString()}</p>\r\n\r\n      {/* Mostrar la nota según la especialidad */}\r\n      {mostrarNotaEspecialidad()}\r\n\r\n      {evaluacion[`nota_${especialidad.toLowerCase()}`] < 20 ? (\r\n        recomendacion ? (\r\n          <div>\r\n            <p><strong>Recomendación de curso:</strong> {recomendacion.nombre}</p>\r\n            <button onClick={handleIrAlCurso}>Ir al curso recomendado</button>\r\n          </div>\r\n        ) : (\r\n          <p>Cargando recomendación de curso...</p>\r\n        )\r\n      ) : (\r\n        <p>No hay recomendación de curso.</p>\r\n      )}\r\n\r\n      <button onClick={handleVolverARealizarExamen} style={{ marginTop: '20px' }}>Volver a realizar el examen</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Evaluacion;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}